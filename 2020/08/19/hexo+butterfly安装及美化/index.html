<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>github+hexo+butterfly的搭建部署及美化 | FiveAgent</title><meta name="description" content="搭建github博客创建仓库新建一个名为你的用户名.github.io的仓库，比如说，如果你的github用户名是hugang-first，那么你就新建hugang-first.github.io的仓库（必须是你的用户名，其它名称无效），将来你的网站访问地址就是 http:&#x2F;&#x2F;hugang-first.github.io 了，是不是很方便？ 由此可见，每一个github账户最多只能创建一个这样可以"><meta name="keywords" content="butterfly主题"><meta name="author" content="FiveAgent"><meta name="copyright" content="FiveAgent"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/index.png"><link rel="canonical" href="http://yoursite.com/2020/08/19/hexo+butterfly%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="github+hexo+butterfly的搭建部署及美化"><meta property="og:url" content="http://yoursite.com/2020/08/19/hexo+butterfly%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/"><meta property="og:site_name" content="FiveAgent"><meta property="og:description" content="搭建github博客创建仓库新建一个名为你的用户名.github.io的仓库，比如说，如果你的github用户名是hugang-first，那么你就新建hugang-first.github.io的仓库（必须是你的用户名，其它名称无效），将来你的网站访问地址就是 http:&#x2F;&#x2F;hugang-first.github.io 了，是不是很方便？ 由此可见，每一个github账户最多只能创建一个这样可以"><meta property="og:image" content="https://img.xjh.me/desktop/bg/nature/64080878_p0.jpg"><meta property="article:published_time" content="2020-08-19T15:23:32.762Z"><meta property="article:modified_time" content="2020-08-19T15:23:32.764Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.0.2',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '天',
  last_push_date: '天前',
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
      const now = new Date()
      const expiryDay = ttl * 86400000
      const item = {
        value: value,
        expiry: now.getTime() + expiryDay,
      }
      localStorage.setItem(key, JSON.stringify(item))
    },
  
  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-08-19 23:23:32'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.0.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">2</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">2</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/%E9%9F%B3%E4%B9%90/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/%E8%A7%86%E9%A2%91/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAgithub%E5%8D%9A%E5%AE%A2"><span class="toc-number">1.</span> <span class="toc-text">搭建github博客</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.</span> <span class="toc-text">创建仓库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BAhexo-butterfly"><span class="toc-number">2.</span> <span class="toc-text">本地搭建hexo+butterfly</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AESSH-key"><span class="toc-number">2.1.</span> <span class="toc-text">配置SSH key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F"><span class="toc-number">2.2.</span> <span class="toc-text">测试是否成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8hexo%E5%86%99%E5%8D%9A%E5%AE%A2"><span class="toc-number">3.</span> <span class="toc-text">使用hexo写博客</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo%E7%AE%80%E4%BB%8B"><span class="toc-number">3.1.</span> <span class="toc-text">hexo简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.3.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">3.4.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">3.5.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%A2%98"><span class="toc-number">3.6.</span> <span class="toc-text">修改主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%89%8D"><span class="toc-number">3.7.</span> <span class="toc-text">上传之前</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E5%88%B0github"><span class="toc-number">3.8.</span> <span class="toc-text">上传到github</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%87%E7%BA%A7"><span class="toc-number">4.</span> <span class="toc-text">主题的安装和升级</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">4.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%B8%BB%E9%A2%98"><span class="toc-number">4.2.</span> <span class="toc-text">应用主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B3%E6%BB%91%E5%8D%87%E7%BA%A7"><span class="toc-number">4.3.</span> <span class="toc-text">平滑升级</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%A1%B5%E9%9D%A2"><span class="toc-number">5.</span> <span class="toc-text">主题页面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Page-Front-matter"><span class="toc-number">5.1.</span> <span class="toc-text">Page Front-matter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Front-matter"><span class="toc-number">5.2.</span> <span class="toc-text">Post Front-matter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-number">5.3.</span> <span class="toc-text">标签页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E9%A1%B5"><span class="toc-number">5.4.</span> <span class="toc-text">分类页</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><span class="toc-number">6.</span> <span class="toc-text">友情链接</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><span class="toc-number">6.1.</span> <span class="toc-text">创建友情链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E6%B7%BB%E5%8A%A0"><span class="toc-number">6.2.</span> <span class="toc-text">友情链接添加</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E7%95%8C%E9%9D%A2%E8%AE%BE%E7%BD%AE"><span class="toc-number">6.3.</span> <span class="toc-text">友情链接界面设置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">7.</span> <span class="toc-text">配置文件说明</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80"><span class="toc-number">8.</span> <span class="toc-text">语言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%B5%84%E6%96%99"><span class="toc-number">9.</span> <span class="toc-text">网站资料</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95"><span class="toc-number">10.</span> <span class="toc-text">导航菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">11.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE"><span class="toc-number">11.1.</span> <span class="toc-text">代码高亮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6"><span class="toc-number">11.2.</span> <span class="toc-text">代码复制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E5%B1%95%E5%BC%80-%E5%85%B3%E9%97%AD"><span class="toc-number">11.3.</span> <span class="toc-text">代码框展开&#x2F;关闭</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8D%A2%E8%A1%8C"><span class="toc-number">11.4.</span> <span class="toc-text">代码换行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A4%BE%E4%BA%A4%E5%9B%BE%E7%89%87"><span class="toc-number">12.</span> <span class="toc-text">社交图片</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%9B%BE"><span class="toc-number">12.1.</span> <span class="toc-text">顶部图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#page%E9%A1%B5"><span class="toc-number">12.1.1.</span> <span class="toc-text">page页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E5%85%B7%E4%BD%93url%E6%97%B6"><span class="toc-number">12.1.1.1.</span> <span class="toc-text">当具体url时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E9%A1%B6%E9%83%A8%E5%9B%BE%E7%95%99%E7%A9%BA%C2%B7true%E5%92%8Cfalse"><span class="toc-number">12.1.1.2.</span> <span class="toc-text">当顶部图留空·true和false</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#post%E9%A1%B5"><span class="toc-number">12.1.2.</span> <span class="toc-text">post页</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E7%AB%A0"><span class="toc-number">13.</span> <span class="toc-text">文章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83"><span class="toc-number">13.1.</span> <span class="toc-text">文章版权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%89%93%E8%B5%8F"><span class="toc-number">13.2.</span> <span class="toc-text">文章打赏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2"><span class="toc-number">13.3.</span> <span class="toc-text">文章封面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E5%83%8F"><span class="toc-number">13.4.</span> <span class="toc-text">头像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#toc"><span class="toc-number">13.5.</span> <span class="toc-text">toc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E7%89%B9%E5%AE%9A%E7%9A%84%E6%96%87%E7%AB%A0%E9%85%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E6%98%BE%E7%A4%BATOC%E5%92%8C%E7%89%B9%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E7%AB%A0%E8%8A%82%E6%95%B0%E5%AD%97"><span class="toc-number">13.5.1.</span> <span class="toc-text">为特定的文章配置是否显示TOC和特定的目录章节数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%98%AF%E5%90%A6%E8%87%AA%E5%8A%A8%E6%89%93%E5%BC%80TOC"><span class="toc-number">13.5.2.</span> <span class="toc-text">设置是否自动打开TOC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0"><span class="toc-number">14.</span> <span class="toc-text">相关文章</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Footer%E8%AE%BE%E7%BD%AE"><span class="toc-number">15.</span> <span class="toc-text">Footer设置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%B9%B4%E4%BB%BD"><span class="toc-number">15.1.</span> <span class="toc-text">博客年份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E9%A1%B5%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E6%9C%AC"><span class="toc-number">15.2.</span> <span class="toc-text">脚本页自定义文本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICP"><span class="toc-number">15.3.</span> <span class="toc-text">ICP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE"><span class="toc-number">16.</span> <span class="toc-text">右下角按钮</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E7%B9%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">16.1.</span> <span class="toc-text">简繁转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F"><span class="toc-number">16.2.</span> <span class="toc-text">夜间模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">16.3.</span> <span class="toc-text">阅读模式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">17.</span> <span class="toc-text">侧边栏设置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%8E%92%E7%89%88"><span class="toc-number">17.1.</span> <span class="toc-text">侧边排版</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0busuanzi-UV%E5%92%8CPV"><span class="toc-number">18.</span> <span class="toc-text">访问人数busuanzi(UV和PV)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-number">18.1.</span> <span class="toc-text">运行时间</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Note-Bootstrap-Callout"><span class="toc-number">19.</span> <span class="toc-text">Note(Bootstrap Callout)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">19.1.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%B3%95"><span class="toc-number">19.2.</span> <span class="toc-text">用法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Gallery%E7%9B%B8%E5%86%8C"><span class="toc-number">20.</span> <span class="toc-text">Gallery相册</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA"><span class="toc-number">21.</span> <span class="toc-text">评论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Disqus"><span class="toc-number">21.1.</span> <span class="toc-text">Disqus</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Laibili-%E6%9D%A5%E5%BF%85%E5%8A%9B"><span class="toc-number">21.2.</span> <span class="toc-text">Laibili(来必力)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gitalk"><span class="toc-number">21.3.</span> <span class="toc-text">Gitalk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Valine"><span class="toc-number">21.4.</span> <span class="toc-text">Valine</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E4%BA%AB"><span class="toc-number">22.</span> <span class="toc-text">分享</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AddThis"><span class="toc-number">22.1.</span> <span class="toc-text">AddThis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sharejs"><span class="toc-number">22.2.</span> <span class="toc-text">Sharejs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Addtoany"><span class="toc-number">22.3.</span> <span class="toc-text">Addtoany</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E7%B3%BB%E7%BB%9F"><span class="toc-number">23.</span> <span class="toc-text">搜索系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Algolia"><span class="toc-number">23.1.</span> <span class="toc-text">Algolia</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2"><span class="toc-number">23.2.</span> <span class="toc-text">本地搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E9%AA%8C%E8%AF%81"><span class="toc-number">23.3.</span> <span class="toc-text">网站验证</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%BB%9F%E8%AE%A1"><span class="toc-number">24.</span> <span class="toc-text">分析统计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1"><span class="toc-number">24.1.</span> <span class="toc-text">百度统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E7%BB%9F%E8%AE%A1"><span class="toc-number">24.2.</span> <span class="toc-text">谷歌统计</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Mathjax"><span class="toc-number">25.</span> <span class="toc-text">Mathjax</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96-%E7%89%B9%E6%95%88"><span class="toc-number">26.</span> <span class="toc-text">美化&#x2F;特效</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98%E8%89%B2"><span class="toc-number">26.1.</span> <span class="toc-text">自定义主题色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF"><span class="toc-number">26.2.</span> <span class="toc-text">网站背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#footer%E8%83%8C%E6%99%AF"><span class="toc-number">26.3.</span> <span class="toc-text">footer背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%AD%97%E7%89%B9%E6%95%88"><span class="toc-number">26.4.</span> <span class="toc-text">打字特效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E5%BD%A9%E5%B8%A6"><span class="toc-number">26.5.</span> <span class="toc-text">禁止彩带</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%BD%A9%E5%B8%A6"><span class="toc-number">26.6.</span> <span class="toc-text">动态彩带</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C"><span class="toc-number">26.7.</span> <span class="toc-text">鼠标点击效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%9F%E8%8A%B1"><span class="toc-number">26.7.1.</span> <span class="toc-text">烟花</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B1%E5%BF%83"><span class="toc-number">26.7.2.</span> <span class="toc-text">爱心</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%AD%97"><span class="toc-number">26.7.3.</span> <span class="toc-text">文字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E7%BE%8E%E5%8C%96"><span class="toc-number">26.8.</span> <span class="toc-text">文章页美化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93"><span class="toc-number">26.8.1.</span> <span class="toc-text">自定义字体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%89%AF%E6%A0%87%E9%A2%98"><span class="toc-number">26.8.2.</span> <span class="toc-text">网站副标题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top-img%E6%98%BE%E7%A4%BA%E5%A4%A7%E5%B0%8F"><span class="toc-number">26.8.3.</span> <span class="toc-text">top_img显示大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PWA"><span class="toc-number">26.8.4.</span> <span class="toc-text">PWA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">26.9.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6"><span class="toc-number">26.10.</span> <span class="toc-text">文章置顶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%A4%A7%E5%9B%BE%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">26.11.</span> <span class="toc-text">图片大图查看模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Snackbar%E5%BC%B9%E7%AA%97"><span class="toc-number">26.11.1.</span> <span class="toc-text">Snackbar弹窗</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D"><span class="toc-number">27.</span> <span class="toc-text">绑定个人域名</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%B0%E7%90%83"><span class="toc-number">28.</span> <span class="toc-text">地球</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7"><span class="toc-number">28.1.</span> <span class="toc-text">注册账号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">28.2.</span> <span class="toc-text">配置文件</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://img.xjh.me/desktop/bg/nature/64080878_p0.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">FiveAgent</a></span><span class="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/%E9%9F%B3%E4%B9%90/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/%E8%A7%86%E9%A2%91/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">github+hexo+butterfly的搭建部署及美化</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-19T15:23:32.762Z" title="发表于 2020-08-19 23:23:32">2020-08-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-19T15:23:32.764Z" title="更新于 2020-08-19 23:23:32">2020-08-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96/">主题优化</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="搭建github博客"><a href="#搭建github博客" class="headerlink" title="搭建github博客"></a>搭建github博客</h1><h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><p>新建一个名为<code>你的用户名.github.io</code>的仓库，比如说，如果你的github用户名是hugang-first，那么你就新建<code>hugang-first.github.io</code>的仓库（必须是你的用户名，其它名称无效），将来你的网站访问地址就是 <a target="_blank" rel="noopener" href="http://hugang-first.github.io/">http://hugang-first.github.io</a> 了，是不是很方便？</p>
<p>由此可见，每一个github账户最多只能创建一个这样可以直接使用域名访问的仓库。</p>
<p>几个注意的地方：</p>
<ol>
<li>注册的邮箱一定要验证，否则不会成功；</li>
<li>仓库名字必须是：<code>username.github.io</code>，其中<code>username</code>是你的用户名；</li>
</ol>
<h1 id="本地搭建hexo-butterfly"><a href="#本地搭建hexo-butterfly" class="headerlink" title="本地搭建hexo+butterfly"></a>本地搭建hexo+butterfly</h1><p>nodejs：下载 <a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://nodejs.cn/download/">点击这里快捷电梯</a></p>
<p>git：下载 <a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://git-scm.com/download/">点击这里快捷电梯</a></p>
<p>自己找一个位置创建目录作为你自己博客的根目录</p>
<p>在这个目录下鼠标右击-&gt;选择”Git Bash Here”后进入git的bash界面</p>
<p>输入如下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//第一条   这是安装hexo的基础框架</span><br><span class="line">npm install -g hexo</span><br><span class="line"></span><br><span class="line">//第二条   这是初始化hexo框架 这个可能会比较慢</span><br><span class="line">hexo init</span><br><span class="line"></span><br><span class="line">//第三条 安装所需要的组件</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">//第四条 编译生成静态页面</span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">//第五条 启动本地服务</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>在浏览器中输入 <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a> 你将会看到一个初始的博客界面</p>
<p>我们继续回到bash命令界面 Ctrl+c结束后</p>
<p>输入下面这条命令将会下载butterfly主题到博客根目录下的themes文件夹下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly </span><br></pre></td></tr></table></figure>

<p>修改博客根目录下的配置文件_config.yml，找到theme：字段</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure>

<p>如果没有渲染插件就需要下载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure>

<p>再次运行一下命令后进浏览器输入<a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a> 查看更改butterfly主题有点效果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//编译生成静态页面</span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">// 启动本地服务</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>





<h2 id="配置SSH-key"><a href="#配置SSH-key" class="headerlink" title="配置SSH key"></a>配置SSH key</h2><p>为什么要配置这个呢？因为你提交代码肯定要拥有你的github权限才可以，但是直接使用用户名和密码太不安全了，所以我们使用ssh key来解决本地和服务器的连接问题。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/. ssh <span class="comment">#检查本机已存在的ssh密钥</span></span><br></pre></td></tr></table></figure>

<p>如果提示：No such file or directory 说明你是第一次使用git。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮件地址&quot;</span><br></pre></td></tr></table></figure>

<p>然后连续3次回车，最终会生成一个文件在用户目录下，打开用户目录，找到<code>.ssh\id_rsa.pub</code>文件，记事本打开并复制里面的内容，打开你的github主页，进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key：</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809183636504.png" alt="image-20200809183636504"></p>
<p>将刚复制的内容粘贴到key那里，title随便填，保存。</p>
<h2 id="测试是否成功"><a href="#测试是否成功" class="headerlink" title="测试是否成功"></a>测试是否成功</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com # 注意邮箱地址不用改</span><br></pre></td></tr></table></figure>

<p>如果提示<code>Are you sure you want to continue connecting (yes/no)?</code>，输入yes，然后会看到：</p>
<blockquote>
<p>Hi liuxianan! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>看到这个信息说明SSH已配置成功！</p>
<p>此时你还需要配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;liuxianan&quot;&#x2F;&#x2F; 你的github用户名，非昵称</span><br><span class="line">$ git config --global user.email  &quot;xxx@qq.com&quot;&#x2F;&#x2F; 填写你的github注册邮箱</span><br></pre></td></tr></table></figure>

<p>具体这个配置是干嘛的我没仔细深究。</p>
<h1 id="使用hexo写博客"><a href="#使用hexo写博客" class="headerlink" title="使用hexo写博客"></a>使用hexo写博客</h1><h2 id="hexo简介"><a href="#hexo简介" class="headerlink" title="hexo简介"></a>hexo简介</h2><p>Hexo是一个简单、快速、强大的基于 Github Pages 的博客发布工具，支持Markdown格式，有众多优秀插件和主题。</p>
<p>官网： <a target="_blank" rel="noopener" href="http://hexo.io/">http://hexo.io</a><br>github: <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo">https://github.com/hexojs/hexo</a></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>由于github pages存放的都是静态文件，博客存放的不只是文章内容，还有文章列表、分类、标签、翻页等动态内容，假如每次写完一篇文章都要手动更新博文目录和相关链接信息，相信谁都会疯掉，所以hexo所做的就是将这些md文件都放在本地，每次写完文章后调用写好的命令来批量完成相关页面的生成，然后再将有改动的页面提交到github。</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>安装之前先来说几个注意事项：</p>
<ol>
<li>很多命令既可以用Windows的cmd来完成，也可以使用git bash来完成，但是部分命令会有一些问题，为避免不必要的问题，建议全部使用git bash来执行；</li>
<li>hexo不同版本差别比较大，网上很多文章的配置信息都是基于2.x的，所以注意不要被误导；</li>
<li>hexo有2种<code>_config.yml</code>文件，一个是根目录下的全局的<code>_config.yml</code>，一个是各个<code>theme</code>下的；</li>
</ol>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo</span><br></pre></td></tr></table></figure>

<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>在电脑的某个地方新建一个名为hexo的文件夹（名字可以随便取），比如我的是<code>D:\MyBlog</code>，由于这个文件夹将来就作为你存放代码的地方，所以最好不要随便放。接下来在自己博客根目录打开GitBashHere</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809184532454.png" alt="image-20200809184532454"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure>

<p>hexo会自动下载一些文件到这个目录，包括node_modules</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g <span class="comment"># 生成</span></span><br><span class="line">$ hexo s <span class="comment"># 启动服务</span></span><br></pre></td></tr></table></figure>

<p>执行以上命令之后，hexo就会在public文件夹生成相关html文件，这些文件将来都是要提交到github去的：</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809184659887.png" alt="image-20200809184659887"></p>
<p><code>hexo s</code>是开启本地预览服务，打开浏览器访问 <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000</a> 即可看到内容lo World 的文章</p>
<h2 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h2><p>既然默认主题很丑，那我们别的不做，首先来替换一个好看点的主题。这是 <a target="_blank" rel="noopener" href="https://hexo.io/themes/">官方主题</a>。</p>
<p>个人比较喜欢的主题：</p>
<p>首先下载这个主题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure>

<p>下载后的主题都在这里：博客根目录下的themes/</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809184309579.png" alt="image-20200809184309579"></p>
<p>修改<code>_config.yml</code>中的<code>theme: landscape</code>改为<code>theme: yilia</code>，然后重新执行<code>hexo g</code>来重新生成。</p>
<p>如果出现一些莫名其妙的问题，可以先执行<code>hexo clean</code>来清理一下public的内容，然后再来重新生成和发布。</p>
<h2 id="上传之前"><a href="#上传之前" class="headerlink" title="上传之前"></a>上传之前</h2><p>在上传代码到github之前，一定要记得先把你以前所有代码下载下来（虽然github有版本管理，但备份一下总是好的），因为从hexo提交代码时会把你以前的所有代码都删掉。</p>
<h2 id="上传到github"><a href="#上传到github" class="headerlink" title="上传到github"></a>上传到github</h2><p>如果你一切都配置好了，发布上传很容易，一句<code>hexo d</code>就搞定，当然关键还是你要把所有东西配置好。</p>
<p>首先，<code>ssh key</code>肯定要配置好。</p>
<p>其次，配置<code>_config.yml</code>中有关deploy的部分：</p>
<p>首先进入自己的仓库，点击usessh，将ssh地址复制到repository：</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809185405011.png" alt="image-20200809185405011"></p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809185444230.png" alt="image-20200809185444230"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:hugang-first&#x2F;hugang-first.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<h1 id="主题的安装和升级"><a href="#主题的安装和升级" class="headerlink" title="主题的安装和升级"></a>主题的安装和升级</h1><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p>在你博客的根目录里</p>
<p>bash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly.git themes&#x2F;Butterfly</span><br></pre></td></tr></table></figure>

<h2 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h2><p>修改站点的配置文件<code>_config.yml</code>把主题改为<code>Butterfly</code></p>
<p>yml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: Butterfly</span><br></pre></td></tr></table></figure>

<p>如果你没有pug以及stylus的渲染器，请下载安装:<code>npm install hexo-renderer-pug hexo-renderer-stylus --save</code> or <code>yarn add hexo-renderer-pug hexo-renderer-stylus</code></p>
<h2 id="平滑升级"><a href="#平滑升级" class="headerlink" title="平滑升级"></a>平滑升级</h2><p>为了让主题的平滑升级，<code>Butterfly</code>使用了<a target="_blank" rel="noopener" href="https://hexo.io/docs/data-files.html">data files</a>特性。</p>
<p>推荐把默认主题的配置文件<code>_config.yml</code>复制到Hexo工作目录下的<code>source/_data/butterfly.yml</code>，如果<code>source/_data</code>的目录不存在那就创建一个。</p>
<p>注意·如果你创建了<code>butterfly.yml</code>，他将会替换主题的默认配置文件<code>_config.yml</code>里的配置项(<strong>不是合并而是替换</strong>)，之后你就只需要通过<code>git pull</code>的方式就可以平滑的升级<code>theme-butterfly</code>了。</p>
<h1 id="主题页面"><a href="#主题页面" class="headerlink" title="主题页面"></a>主题页面</h1><h2 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h2><p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">type: (tags,link,categories这三个页面需要配置)</span><br><span class="line">comments: (是否开启评论，默认true)</span><br><span class="line">description:</span><br><span class="line">top_img: (设置顶部图)</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h2><p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: (除非特定，可以不写)</span><br><span class="line">comments: 是否显示评论(除非设置false,可以不写)</span><br><span class="line">cover: 缩略图</span><br><span class="line">toc: 是否显示toc(除非特定文章设置，可以写)</span><br><span class="line">toc_number: 是否显示toc数字(除非特定文章设置，可以不写)</span><br><span class="line">copyright: 是否显示版权(除非特定文章设置，可以不写)</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><ol>
<li>前往你的Hexo博客根目录</li>
<li>输入<code>hexo new page tags</code></li>
<li>你会找到<code>source/tags/index.md</code>这个文件</li>
<li>修改这个文件：</li>
</ol>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">tite: 标签</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><ol>
<li>前往你的Hexo博客的根目录</li>
<li>输入<code>hexo new page categories</code></li>
<li>你会找到<code>source/categories/index.md</code>这个文件</li>
<li>修改这个文件:</li>
</ol>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h1 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h1><p>为你的博客添加友情链接！</p>
<h2 id="创建友情链接"><a href="#创建友情链接" class="headerlink" title="创建友情链接"></a>创建友情链接</h2><ol>
<li>前往你的Hexo博客的根目录</li>
<li>输入<code>hexo new page link</code></li>
<li>你会找到<code>source/link/index.md</code>这个文件</li>
<li>修改这个文件:</li>
</ol>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: link</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="友情链接添加"><a href="#友情链接添加" class="headerlink" title="友情链接添加"></a>友情链接添加</h2><p>在Hexo博客根目录中的<code>source/_data</code>创建一个文件<code>link.yml</code></p>
<p>yml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class:</span><br><span class="line">  class_name: 友情链接</span><br><span class="line">  link_list:</span><br><span class="line">    1:</span><br><span class="line">      name: xxx</span><br><span class="line">      link: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">      avatar: https:&#x2F;&#x2F;xxx&#x2F;xxx&#x2F;avatar.png (也可以是本地文件)</span><br><span class="line">      descr: 添加描述</span><br><span class="line">    2：</span><br><span class="line">      name: xxx</span><br><span class="line">      link: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">      avatar: https:&#x2F;&#x2F;xxx&#x2F;xxx&#x2F;avatar.png (也可以是本地文件)</span><br><span class="line">      descr: 添加描述</span><br><span class="line"></span><br><span class="line">class2:</span><br><span class="line">  class_name: 无效链接</span><br><span class="line">  link_list:</span><br><span class="line">    1:</span><br><span class="line">      name: xxx</span><br><span class="line">      link: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">      avatar: https:&#x2F;&#x2F;xxx&#x2F;xxx&#x2F;avatar.png (也可以是本地文件)</span><br><span class="line">      descr: 添加描述</span><br><span class="line">     2:</span><br><span class="line">       name: xxx</span><br><span class="line">      link: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">      avatar: https:&#x2F;&#x2F;xxx&#x2F;xxx&#x2F;avatar.png (也可以是本地文件)</span><br><span class="line">      descr: 添加描述</span><br></pre></td></tr></table></figure>

<h2 id="友情链接界面设置"><a href="#友情链接界面设置" class="headerlink" title="友情链接界面设置"></a>友情链接界面设置</h2><p>需要添加友情链接，可以在<code>Butterfly.yml</code>配置<br>可以在友情链接上协商自己的个人资料，方便他人添加</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Flink:</span><br><span class="line">  headline: 友情链接</span><br><span class="line">  info_headline: 我的Blog资料</span><br><span class="line">  name: Blog 名字: xxx</span><br><span class="line">  address: Blog 地址: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">  avatar: Blog 头像: https:&#x2F;&#x2F;xxx.com</span><br><span class="line">  info: Blog 简介: xxx,xxx</span><br><span class="line">  comment: 如需交换友链，请留言</span><br></pre></td></tr></table></figure>



<h1 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h1><ul>
<li>站点配置文件<code>_config.yml</code>是hexo根目录下的配置文件</li>
<li><code>butterfly.yml</code>是<code>Butterfly</code>的配置文件，他需要你手动将主题目录下的<code>config.yml</code>文件复制到hexo根目录的<code>source/_data/butterfly.yml</code>中。如果文件或文件夹不存在，请手动创建。</li>
</ul>
<h1 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h1><p>修改站点配置文件<code>_config.yml</code>的<code>language</code>参数</p>
<p>默认语言是en</p>
<p>主题支持三种语言</p>
<ul>
<li>default(en)</li>
<li>zh-CN(简体中文)</li>
<li>zh-TW(繁体中文)</li>
</ul>
<h1 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h1><p>修改网站各种资料，列入标题、副标题和邮箱等个人资料，请修改博客根目录的<code>_config.yml</code></p>
<h1 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h1><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: &#x2F; || fa fa-home</span><br><span class="line">  Archives: &#x2F;archives&#x2F; || fa fa-archive</span><br><span class="line">  Tags: &#x2F;tags&#x2F; || fa fa-tags</span><br><span class="line">  Categories: &#x2F;categories&#x2F; || fa fa-folder-open</span><br><span class="line">  Link: &#x2F;link&#x2F; || fa fa-link</span><br><span class="line">  About: &#x2F;about&#x2F; || fa fa-heart</span><br><span class="line">  list||fa fa-list:</span><br><span class="line">    - Music || &#x2F;music&#x2F; || fa fa-music</span><br><span class="line">    - Movie || &#x2F;movies&#x2F; || fa fa-film</span><br></pre></td></tr></table></figure>

<p>必须是<code>/xxx/</code>，后面<code>||</code>分开，然后写图标名，菜单名可以自己修改</p>
<p>格式化：</p>
<p>显示名称：</p>
<p>路径||icon</p>
<p>sub-menu格式</p>
<p>名称||icon:</p>
<ul>
<li>名称||路径||icon</li>
</ul>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h2 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h2><p><code>Butterfly</code>支持<a target="_blank" rel="noopener" href="https://github.com/equinusocio/material-theme">Material Theme</a>5种高亮模式:</p>
<ul>
<li>default</li>
<li>darker</li>
<li>pale night</li>
<li>light</li>
<li>ocean</li>
</ul>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: light</span><br></pre></td></tr></table></figure>

<p>default</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" alt="img"></a></p>
<p>darker</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" alt="img"></a></p>
<p>pale night</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" alt="img"></a></p>
<p>light</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" alt="img"></a></p>
<p>ocean</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" alt="img"></a></p>
<h2 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h2><p>主题支持代码复制功能</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_copy: true</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" alt="img"></a></p>
<h2 id="代码框展开-关闭"><a href="#代码框展开-关闭" class="headerlink" title="代码框展开/关闭"></a>代码框展开/关闭</h2><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击<code>&gt;</code>可展开代码</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_shrink: true #代码框不可展开，需点击&#39;&gt;&#39;打开</span><br></pre></td></tr></table></figure>

<p><code>highlight_shrink: true</code><br><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png" alt="img"></a><br><code>highlight_shrink: flase</code><br><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png" alt="img"></a></p>
<h2 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h2><p>在默认情况下，<code>hexo-highlight</code>在编译的时候不会实现代码自动换行，如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code_word_wrap: true</span><br></pre></td></tr></table></figure>

<p>然后找到你站点的Hexo配置文件<code>_config.yml</code>将<code>line_number</code>改成<code>false</code>:</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: flase</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br></pre></td></tr></table></figure>

<p>设置<code>code_word_wrap</code>之前：</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" alt="img"></a></p>
<p>设置<code>code_word_wrap</code>之后：</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" alt="img"></a></p>
<h1 id="社交图片"><a href="#社交图片" class="headerlink" title="社交图片"></a>社交图片</h1><p>Butterfly支持<a target="_blank" rel="noopener" href="https://fontawesome.com/v4.7.0/">font-awesome v4</a>和<a target="_blank" rel="noopener" href="https://fontawesome.com/icons?from=io">font-awecome v5</a>.如需开启<a target="_blank" rel="noopener" href="https://fontawesome.com/icons?from=io">font-awecome v5</a>，需要在<code>Butterfly.yml</code>上开启</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CDN_USE:</span><br><span class="line">  css:</span><br><span class="line">    - https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;font-awesome@latest&#x2F;css&#x2F;font-awesome.min.css</span><br><span class="line">    - https:&#x2F;&#x2F;use.fontawesome.com&#x2F;releases&#x2F;v5.8.1&#x2F;css&#x2F;all.css</span><br></pre></td></tr></table></figure>

<p>无论V4还是V5，书写格式都是一样的<code>图标名：url</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  fa fa-github: https:&#x2F;&#x2F;github.com&#x2F;xxx</span><br><span class="line">  fa fa-rsss: &#x2F;atom.xml</span><br></pre></td></tr></table></figure>

<p>图标可以在这寻找<br><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png" alt="img"></a></p>
<p>因为主题UI的关系，<code>主页文章节选</code>只支持<code>自动节选</code>和<code>文章页description</code>。优先选择<code>自动节选</code></p>
<p>在<code>butterfly.yml</code>里可以开启<code>auto_excerpt</code>的选项，你的文章将会在自动截取部分显示在主页(默认显示150个字)</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  enable: true</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure>

<p>如果没有开启<code>自动节选</code>，则会显示文章页front-matter里面设置的<code>description</code></p>
<p>注意:如果开启了自动节选功能，代码块的显示将有可能不正常。</p>
<h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><p><code>顶部图</code>有两种配置:具体url和(留空·true和false，三个效果一样)</p>
<h3 id="page页"><a href="#page页" class="headerlink" title="page页"></a>page页</h3><h4 id="当具体url时"><a href="#当具体url时" class="headerlink" title="当具体url时"></a>当具体url时</h4><p>主页的顶部图可以在<code>Butterfly.yml</code>设置<code>index_img</code></p>
<p>archives页的顶部图可以在<code>Butterfly.yml</code>设置<code>archive_img</code></p>
<p>其他<code>page</code>页的顶部图可以在各自的md页面设置<code>front-matter</code>中的<code>top_img</code></p>
<p>页面如果没有设置各自的<code>top_img</code>则会显示<code>default_top_img</code>图片</p>
<h4 id="当顶部图留空·true和false"><a href="#当顶部图留空·true和false" class="headerlink" title="当顶部图留空·true和false"></a>当顶部图留空·true和false</h4><p>主页会显示纯颜色的顶部图</p>
<p>其他page的顶部图没有设置时，也会显示纯颜色的顶部图</p>
<h3 id="post页"><a href="#post页" class="headerlink" title="post页"></a>post页</h3><p><code>post</code>页的顶部图会优先显示各自<code>front-matter</code>中的<code>top_img</code>，如果没有设置，则会缩略图(即各自<code>front-matter</code>中的<code>cover</code>)，如果没有则会显示<code>default_top_img</code>图片</p>
<h1 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h1><p>这个选项是用来显示文章相关的相关信息的</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  date_type: both #or created or updated 文章日期是创建日或者更新日或者都显示</span><br><span class="line">  categories: true # or false 是否显示分类</span><br><span class="line">  tags: true # or false 是否显示标签</span><br></pre></td></tr></table></figure>

<p>在文章顶部的资料</p>
<p><code>date_type:</code>可设置文章日期显示创建日期(<code>created</code>)或者更新日期(<code>updated</code>)或者两种都显示(<code>both</code>)</p>
<p><code>categories</code>是否显示分类</p>
<p><code>tags</code>是否显示标签</p>
<h2 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h2><p>为你的博客文章展示文章版权和许可协议。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;</span><br></pre></td></tr></table></figure>

<p>如果有文章(例如：转载文章)不需要显示版权，可以在文章Front-matter单独设置</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copyright: false</span><br></pre></td></tr></table></figure>

<p><strong>版权显示截图</strong><br><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809120504776.png" alt="image-20200809120504776"></p>
<h2 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h2><p>在你每篇文章的结尾，可以添加打赏按钮，相关二维码可以自行配置</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  enable: true</span><br><span class="line">  QR_code:</span><br><span class="line">    - itemlist:</span><br><span class="line">        img: &#x2F;img&#x2F;wechat.jpg</span><br><span class="line">        text: 微信</span><br><span class="line">    - itemlist: </span><br><span class="line">        img: &#x2F;img&#x2F;alipay.jpg</span><br><span class="line">        text: 支付宝</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809121947388.png" alt="image-20200809121947388"></p>
<h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址<br>如果不配置<code>cover</code>，可以设置显示默认的cover</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">default_cover: https:&#x2F;&#x2F;xxx.com&#x2F;xxx.png</span><br></pre></td></tr></table></figure>

<p>当配置多张图片时，会随机选择一张作为cover，此时写法应为</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default_cover:</span><br><span class="line">  - https:&#x2F;&#x2F;xxx.com&#x2F;xxx.png</span><br><span class="line">  - https:&#x2F;&#x2F;xxx.com&#x2F;yyy.png</span><br><span class="line">  - https:&#x2F;&#x2F;xxx.com&#x2F;zzz.png</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809123510234.png" alt="image-20200809123510234"></p>
<h2 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h2><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avatar: https:&#x2F;&#x2F;xxx&#x2F;avatar.png</span><br></pre></td></tr></table></figure>

<h2 id="toc"><a href="#toc" class="headerlink" title="toc"></a>toc</h2><p>在文章页，会有一个目录，用于显示TOC。手机端默认显示按钮。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true  #显示章节数字</span><br></pre></td></tr></table></figure>



<h3 id="为特定的文章配置是否显示TOC和特定的目录章节数字"><a href="#为特定的文章配置是否显示TOC和特定的目录章节数字" class="headerlink" title="为特定的文章配置是否显示TOC和特定的目录章节数字"></a>为特定的文章配置是否显示TOC和特定的目录章节数字</h3><p>在你的文章<code>md</code>文件的头部，加入<code>toc_number</code>和<code>toc</code>项，并配置<code>true</code>或者<code>false</code>即可。</p>
<p><code>toc</code>是否显示文章TOC</p>
<p><code>toc_number</code>是否显示章节数</p>
<p>配置之后你的特定的文章将会拥有它自己的目录数字的显示与否，而不会受全局的配置影响。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enable: true</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number: false</span><br></pre></td></tr></table></figure>



<h3 id="设置是否自动打开TOC"><a href="#设置是否自动打开TOC" class="headerlink" title="设置是否自动打开TOC"></a>设置是否自动打开TOC</h3><p>可选择进入文章页面时，是否自动打开sidebar显示TOC</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auto_open_sidebar:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<h1 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h1><p>相关文章推荐的原理是根据文章的tags的比重来推荐</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">related_post:</span><br><span class="line">  enable: true</span><br><span class="line">  limit: 6 #显示推荐文章数目</span><br></pre></td></tr></table></figure>

<h1 id="Footer设置"><a href="#Footer设置" class="headerlink" title="Footer设置"></a>Footer设置</h1><h2 id="博客年份"><a href="#博客年份" class="headerlink" title="博客年份"></a>博客年份</h2><p><code>since</code>是一个来展示你站点起始时间的选项，它位于页面的最底部。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">since: 2018</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://www.c-hasel.cn/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/since.png"><img src= "/img/loading.gif" data-lazy-src="http://www.c-hasel.cn/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/since.png" alt="img"></a></p>
<h2 id="脚本页自定义文本"><a href="#脚本页自定义文本" class="headerlink" title="脚本页自定义文本"></a>脚本页自定义文本</h2><p><code>Footer_custom_text</code>是一个给你用来在页脚自定义文本的选项，通常你可以在这里写声明文本等。支持HTML。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">footer:</span><br><span class="line">  owner:</span><br><span class="line">    enable: true</span><br><span class="line">    since: 2020</span><br><span class="line">  custom_text: 欢迎来到胡先森的博客</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809122959722.png" alt="image-20200809122959722"></p>
<h2 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h2><p>对于部分有备案的域名，可以在ICP配置显示</p>
<p>配置<code>butterfly</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ICP:</span><br><span class="line">  enable: true</span><br><span class="line">  url: https:&#x2F;&#x2F;www.beian.miit.gov.cn&#x2F;state&#x2F;outPortal&#x2F;loginPortal.action</span><br><span class="line">  text: 渝ICP备888</span><br><span class="line">  icon: &#x2F;img&#x2F;icp.png</span><br></pre></td></tr></table></figure>

<h1 id="右下角按钮"><a href="#右下角按钮" class="headerlink" title="右下角按钮"></a>右下角按钮</h1><h2 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h2><p>简体繁体互换</p>
<p>右下角会有简繁转换按钮。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">translate:</span><br><span class="line">  enable: true</span><br><span class="line">  # 默认按钮显示文字(网站是简体，应设置为&#39;default: 繁&#39;)</span><br><span class="line">  default: 简</span><br><span class="line">  #网站默认语言，1: 繁体中文, 2: 简体中文</span><br><span class="line">  defaultEncoding: 1</span><br><span class="line">  #延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span><br><span class="line">  translateDelay: 0</span><br><span class="line">  #博客网址</span><br><span class="line">  cookieDomain: &quot;https:&#x2F;&#x2F;jerryc.me&#x2F;&quot;</span><br><span class="line">  #当文字是简体时，按钮显示的文字</span><br><span class="line">  msgToTraditionalChinese: &quot;繁&quot;</span><br><span class="line">  #当文字是繁体时，按钮显示的文字</span><br><span class="line">  msgToSimplifiedChinese: &quot;简&quot;</span><br></pre></td></tr></table></figure>

<h2 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h2><p>右下角会有夜间模式按钮</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#夜间模式</span><br><span class="line">darkmode:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p>V2.0.0开始增加一个选项，可开启自动切换light mode和dark mode</p>
<p>autoChangeMode: 1 跟随系统二变化，不支持浏览器/系统将按照时间晚上6点到早上6点之间切换为dark mode</p>
<p>autoChangeMode: 2 只按照时间晚上6点到早上6点之间切换为dark mode，其余时间为light mode</p>
<p>autoChangeMode: false 取消自动切换</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 自动切换dark mode和light mode</span><br><span class="line">autoChangeMode: false</span><br></pre></td></tr></table></figure>

<h2 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h2><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。</p>
<p>只会出现在文章页面，右下角会有阅读模式按钮</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">readmode:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" alt="img"></a></p>
<h1 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h1><h2 id="侧边排版"><a href="#侧边排版" class="headerlink" title="侧边排版"></a>侧边排版</h2><p>可自行决定哪个项目需要显示，可决定位置。</p>
<p>至少需要显示一个</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  position: right # left or right</span><br><span class="line">  card_author: true</span><br><span class="line">  card_announcement: true</span><br><span class="line">  card_recent_post: true</span><br><span class="line">  card_categories: true</span><br><span class="line">  card_tags: true</span><br><span class="line">  card_archives: true</span><br><span class="line">  card_webinfo: true</span><br></pre></td></tr></table></figure>

<p><strong>left默认为right</strong><br><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809110922703.png" alt="image-20200809110922703"></p>
<h1 id="访问人数busuanzi-UV和PV"><a href="#访问人数busuanzi-UV和PV" class="headerlink" title="访问人数busuanzi(UV和PV)"></a>访问人数busuanzi(UV和PV)</h1><p>访问busuanzi的<a target="_blank" rel="noopener" href="http://busuanzi.ibruce.info/">官方网站</a>查看更多介绍。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">busuanzi:</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_pv: true</span><br><span class="line">  page_pv: true</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" alt="img"></a><br><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809123347949.png" alt="image-20200809123347949"></p>
<h2 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h2><p>网页已运行时间</p>
<p>配置<code>butterfly.yml</code></p>
<p>code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line">  start_date: 12&#x2F;1&#x2F;2019 00:00:00</span><br><span class="line">  ##网页开通时间</span><br><span class="line">  #格式: 月&#x2F;日&#x2F;年 时间</span><br><span class="line">  #也可写成 年&#x2F;月&#x2F;日 时间</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" alt="img"></a></p>
<h1 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note(Bootstrap Callout)"></a>Note(Bootstrap Callout)</h1><p>移植于next主题(注意，书写不是markdown规范，而是hexo特有的工呢，故在其它地方不会显示出效果)</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border_radius: 3</span><br><span class="line">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span><br><span class="line">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span><br><span class="line">  light_bg_offset: 0</span><br></pre></td></tr></table></figure>

<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></table></figure>

<p>具体效果、用法可查看<a target="_blank" rel="noopener" href="https://theme-next.org/docs/tag-plugins/note">这里</a></p>
<h1 id="Gallery相册"><a href="#Gallery相册" class="headerlink" title="Gallery相册"></a>Gallery相册</h1><p>2.0.0以上提供</p>
<p>区别于旧版的Gallery相册，新的Gallery相册会自动根据图片长度进行排版，书写也更方便，与markdown格式一样。可根据需要插入到对应的md。</p>
<p>写法：</p>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>

<h1 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h1><p>只能选择一个评论服务商，我才用的是Valine，下图的注释要去掉，就是因为这个害我折腾半天</p>
<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809111529359.png" alt="image-20200809111529359"></p>
<h2 id="Disqus"><a href="#Disqus" class="headerlink" title="Disqus"></a>Disqus</h2><p>注册<a target="_blank" rel="noopener" href="https://disqus.com/">disqus</a>配置你的disqus，然后在<code>Butterfly</code>里开启它。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">disqus:</span><br><span class="line">  enable: true # or fasle</span><br><span class="line">  shortname: 你的disqus的 short-name</span><br></pre></td></tr></table></figure>



<h2 id="Laibili-来必力"><a href="#Laibili-来必力" class="headerlink" title="Laibili(来必力)"></a>Laibili(来必力)</h2><p>注册<a target="_blank" rel="noopener" href="http://www.laibili.com.cn/">来必力</a>配置你自己的来必力设置，然后在<code>butterfly</code>里开启它。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">laibili:</span><br><span class="line">  enable: true # or false</span><br><span class="line">  uid: 你的laibili的uid</span><br></pre></td></tr></table></figure>

<p>laibili的uid你能在这里找到:<br><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809111255628.png" alt="image-20200809111255628"></p>
<h2 id="Gitalk"><a href="#Gitalk" class="headerlink" title="Gitalk"></a>Gitalk</h2><p>遵循<a target="_blank" rel="noopener" href="https://github.com/gitalk/gitalk">gitalk</a>的指示去获取你的github Oauth应用的client id和secret值。以及查看他的相关配置说明。</p>
<p>然后配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  enable: true</span><br><span class="line">  client_id: 你的client id</span><br><span class="line">  client_secret: 你的client secret</span><br><span class="line">  repo: 你的github仓库</span><br><span class="line">  owner: 你的github用户名</span><br><span class="line">  admin: 该仓库的拥有者或协作者</span><br></pre></td></tr></table></figure>



<h2 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h2><p>遵循<a target="_blank" rel="noopener" href="https://github.com/xCss/Valine">Valine</a>的指示去配置你的LeanCloud应用。以及查看相应的配置说明。</p>
<p>然后配置<code>butterfly.yml</code>，记住，在之前说的yaml配置文件中的comments：下的厂商注释要确认去掉</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: false # if you want use valine,please set this value is true</span><br><span class="line">  appId:   # leancloud application app id</span><br><span class="line">  appKey:   # leancloud application app key</span><br><span class="line">  notify: false # valine mail notify (true&#x2F;false) https:&#x2F;&#x2F;github.com&#x2F;xCss&#x2F;Valine&#x2F;wiki</span><br><span class="line">  verify: false # valine verify code (true&#x2F;false)</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: en # i18n: zh-cn&#x2F;en&#x2F;tw</span><br><span class="line">  placeholder: Please leave your footprints # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">  guest_info: nick,mail,link #valine comment header inf</span><br></pre></td></tr></table></figure>



<h1 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h1><p>只能选择一个分享服务商</p>
<h2 id="AddThis"><a href="#AddThis" class="headerlink" title="AddThis"></a>AddThis</h2><p>找到你的pub-id</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addthis.jpg" alt="img"><br>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">addThis:</span><br><span class="line">  enable: true # or false</span><br><span class="line">  pubid: 你的pub-id</span><br></pre></td></tr></table></figure>

<h2 id="Sharejs"><a href="#Sharejs" class="headerlink" title="Sharejs"></a>Sharejs</h2><p>如果你不知道<a target="_blank" rel="noopener" href="https://github.com/overtrue/share.js/">sharejs</a>，看看它的说明。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sharejs:</span><br><span class="line">  enable: true</span><br><span class="line">  sites: facebook,twitter,wechat,weibo,qq #想要显示的内容</span><br></pre></td></tr></table></figure>

<h2 id="Addtoany"><a href="#Addtoany" class="headerlink" title="Addtoany"></a>Addtoany</h2><p>可以找到<a target="_blank" rel="noopener" href="https://www.addtoany.com/">addtoany</a>查看使用说明</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">addtoany:</span><br><span class="line">  enable: false</span><br><span class="line">  item:</span><br><span class="line">    - facebook</span><br><span class="line">    - twitter</span><br><span class="line">    - wechat</span><br><span class="line">    - sina_weibo</span><br><span class="line">    - facebook_messenger</span><br><span class="line">    - email</span><br><span class="line">    - copy_link</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png"></a></p>
<h1 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h1><h2 id="Algolia"><a href="#Algolia" class="headerlink" title="Algolia"></a>Algolia</h2><ol>
<li>你需要安装<a target="_blank" rel="noopener" href="https://github.com/oncletom/hexo-algolia">hexo-algolia</a>或者<a target="_blank" rel="noopener" href="https://github.com/LouisBarranqueiro/hexo-algoliasearch">hexo-algoliasearch</a>，根据它们的说明文档去做相应的配置。</li>
<li>配置<code>butterfly.yml</code></li>
</ol>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">algolia_search:</span><br><span class="line">  enable: true</span><br><span class="line">  hits:</span><br><span class="line">    per_page: 6</span><br><span class="line"></span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#39;t find any results for the search: $&#123;query&#125;&quot; # if there are no result</span><br><span class="line">    hits_stats: &quot;$&#123;hits&#125; results found in $&#123;time&#125; ms&quot;</span><br></pre></td></tr></table></figure>

<h2 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h2><ol>
<li>你需要安装<a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a>，根据它的文档去做相应的配置。<strong>注意格式只支持xml</strong></li>
<li>配置<code>butterfly.yml</code></li>
</ol>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#39;t find any results for the search: $&#123;query&#125;&quot; # if there are no result</span><br></pre></td></tr></table></figure>

<h2 id="网站验证"><a href="#网站验证" class="headerlink" title="网站验证"></a>网站验证</h2><p>如果你需要搜索引擎收录你的网站，可能需要登录对应搜索引擎的管理平台进行提交。<br>各自的验证码可从各自管理平台拿到</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># Google Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;www.google.com&#x2F;webmasters&#x2F;</span><br><span class="line">google_site_verification:</span><br><span class="line"></span><br><span class="line"># Bing Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;www.bing.com&#x2F;webmaster&#x2F;</span><br><span class="line">bing_site_verification:</span><br><span class="line"></span><br><span class="line"># Yandex Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;webmaster.yandex.ru&#x2F;</span><br><span class="line">yandex_site_verification:</span><br><span class="line"></span><br><span class="line"># Baidu Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;ziyuan.baidu.com&#x2F;site&#x2F;</span><br><span class="line">baidu_site_verification:</span><br><span class="line"></span><br><span class="line"># 360 Webmaster tools verification setting</span><br><span class="line"># see http:&#x2F;&#x2F;zhanzhang.so.com&#x2F;</span><br><span class="line">qihu_site_verification:</span><br></pre></td></tr></table></figure>

<h1 id="分析统计"><a href="#分析统计" class="headerlink" title="分析统计"></a>分析统计</h1><h2 id="百度统计"><a href="#百度统计" class="headerlink" title="百度统计"></a>百度统计</h2><ol>
<li><p>登录百度统计的<a target="_blank" rel="noopener" href="https://tongji.baidu.com/web/welcome/login">官方网站</a></p>
</li>
<li><p>找到你百度统计的统计代码<br>！</p>
</li>
<li><p>配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">butterfly.yml</span><br></pre></td></tr></table></figure>

<p>code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">baidu_analytics: 你的代码 #只复制打码部分</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="谷歌统计"><a href="#谷歌统计" class="headerlink" title="谷歌统计"></a>谷歌统计</h2><ol>
<li>登录谷歌分析的<a target="_blank" rel="noopener" href="https://www.google.com/analytics/">官方网站</a></li>
<li>找到你的谷歌分析的追踪ID</li>
<li>配置<code>butterfly.yml</code></li>
</ol>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google_analytics: 你的代码 # 通常以&#39;UA_&#39;打头</span><br></pre></td></tr></table></figure>

<h1 id="Mathjax"><a href="#Mathjax" class="headerlink" title="Mathjax"></a>Mathjax</h1><p>建议使用KaTex获得更好的效果，下文有介绍!</p>
<p>配置<code>butterfly.yml</code>:</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mathjax:</span><br><span class="line">  enable: true # or false</span><br><span class="line">  cdn: https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;mathjax&#x2F;2.7.2&#x2F;MathJax.js?config&#x3D;TeX-AMS-MML_HTMLorMML # required</span><br></pre></td></tr></table></figure>

<p>然后你需要修改一下默认的<code>markdown</code>渲染引擎来实现MathJax的效果。</p>
<p>查看:<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/hexo-renderer-kramed">hexo-renderer-kramed</a></p>
<p>以下操作在你hexo博客的目录下(<strong>不是Butterfly的目录!</strong>):<br><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png" alt="img"></a><br>效果:<br><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg" alt="img"></a></p>
<p>首先禁用<code>MathJax</code>(如果你配置过MathJax的话)，然后修改你的<code>butterfly.yml</code>以便加载<code>katex.min.css</code>:</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">katex:</span><br><span class="line">  enable: true</span><br><span class="line">  cdn: </span><br><span class="line">    css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;katex@latest&#x2F;dist&#x2F;katex.min.css</span><br></pre></td></tr></table></figure>

<p>你不需要添加<code>katex.min.js</code>来渲染数学方程。相应的你需要卸载你之前的hexo的markdown渲染器以及<code>hexo-math</code>，然后安装新的<code>hexo-renderer-markdown-it-plus</code>:</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 替换 &#96;hexo-renderer-kramed&#96; 或者 &#96;hexo-renderer-marked&#96; 等hexo的markdown渲染器</span><br><span class="line"># 你可以在你的package.json里找到hexo的markdwon渲染器，并将其卸载</span><br><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line"></span><br><span class="line">npm un hexo-renderer-kramed --save</span><br><span class="line"></span><br><span class="line"># 卸载 &#96;hexo-math&#96;</span><br><span class="line">npm un hexo-math --save</span><br><span class="line"></span><br><span class="line"># 然后安装 &#96;hexo-renderer-markdown-it-plus&#96;</span><br><span class="line">npm i @upupming&#x2F;hexo-renderer-markdown-it-plus --save</span><br></pre></td></tr></table></figure>

<p>注意到<code>hexo-renderer-markdown-it-plus</code>已经无人持续维护，所以我们使用<code>@upupming/hexo-renderer-markdown-it-plus</code>。这份fork的代码使用了<code>@neilsustc/markdown-it-katex</code>同时它也是VSCode的插件<a target="_blank" rel="noopener" href="https://github.com/yzhang-gh/vscode-markdown">Markdown All in One</a>所使用的，所以我们可以获得最新的KaTex功能例如<code>\tag&#123;&#125;</code>。</p>
<p>你还可以通过<code>@neilsustc/markdown-it0katex</code>控制KaTex的设置，所有可配置的选项参见<a target="_blank" rel="noopener" href="https://katex.org/docs/options.html%E3%80%82%E6%AF%94%E5%A6%82%E4%BD%A0%E6%83%B3%E8%A6%81%E7%A6%81%E7%94%A8%E6%8E%89KaTex%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8A%E8%BE%93%E5%87%BA%E7%9A%84%E5%AE%82%E9%95%BF%E7%9A%84%E8%AD%A6%E5%91%8A%E4%BF%A1%E6%81%AF%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%9A%84%60_config.yml%60%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%B8%8B%E9%9D%A2%E7%9A%84%E9%85%8D%E7%BD%AE%E5%B0%86%60strict%60%E8%AE%BE%E7%BD%AE%E4%B8%BAflase">https://katex.org/docs/options.html。比如你想要禁用掉KaTex在命令行上输出的宂长的警告信息，你可以在根目录的`_config.yml`中使用下面的配置将`strict`设置为flase</a>:</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">markdown_it_plus:</span><br><span class="line">  plugins:</span><br><span class="line">    - plugin:</span><br><span class="line">      name: &#39;@neilsustc&#x2F;markdown-it-katex&#39;</span><br><span class="line">      enable: true</span><br><span class="line">      options:</span><br><span class="line">        strict: false</span><br></pre></td></tr></table></figure>

<p>当然，你还可以利用这个特征性来定义一些自己常用的额<code>macros</code>.</p>
<p>因为KaTex更快更轻量，因此没有MathJax的功能多(比如右键菜单)。为那些使用MathJax的用户，我们也为KaTex默认添加了<a target="_blank" rel="noopener" href="https://github.com/upupming/katex-copytex">Copy As TeX Code</a>的功能。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-katex.gif" alt="img"></p>
<h1 id="美化-特效"><a href="#美化-特效" class="headerlink" title="美化/特效"></a>美化/特效</h1><h2 id="自定义主题色"><a href="#自定义主题色" class="headerlink" title="自定义主题色"></a>自定义主题色</h2><p>可以修改大部分UI颜色</p>
<p>配置<code>butterfly.yml</code>，比如:</p>
<p>颜色值必须被双引号包裹，就像<code>&quot;#000&quot;</code>而不是<code>#000</code>。否则将会在构建的时候报错！</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">theme_color:</span><br><span class="line">  enable: true</span><br><span class="line">  main: &quot;#9370DB&quot;</span><br><span class="line">  paginator: &quot;#7A7FF1&quot;</span><br><span class="line">  button_hover: &quot;#FF7242&quot;</span><br><span class="line">  text_selection: &quot;#69c46d&quot;</span><br><span class="line">  link_color: &quot;#858585&quot;</span><br><span class="line">  hr_color: &quot;#A4D8FA&quot;</span><br><span class="line">  read-mode-bg_color: &#39;#FAF9DE&#39;</span><br></pre></td></tr></table></figure>

<h2 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h2><p>默认显示白色，可设置图片或颜色</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 图片格式 background: url(http:&#x2F;&#x2F;xxxxxx.com&#x2F;xxx.jpg)</span><br><span class="line"># 顔色 background: &#39;#49B202&#39;</span><br><span class="line"># 留空 显示白色</span><br><span class="line">background:</span><br></pre></td></tr></table></figure>

<h2 id="footer背景"><a href="#footer背景" class="headerlink" title="footer背景"></a>footer背景</h2><p>footer的背景会与<code>top_img</code>的一致，当设置<code>flase</code>时，将与主题颜色一致。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># footer是否显示图片背景(与top_img一致)</span><br><span class="line">footer_bg: true</span><br></pre></td></tr></table></figure>

<h2 id="打字特效"><a href="#打字特效" class="headerlink" title="打字特效"></a>打字特效</h2><p>打字特效<a target="_blank" rel="noopener" href="https://github.com/disjukr/activate-power-mode">activate-power-mode</a></p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">activate_power_mode:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>



<h2 id="禁止彩带"><a href="#禁止彩带" class="headerlink" title="禁止彩带"></a>禁止彩带</h2><p>好看的彩带背景，可以设置每次刷新更换彩带，或者点击更换彩带</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">canvas_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  size: 150</span><br><span class="line">  alpha: 0.6</span><br><span class="line">  zIndex: -1</span><br><span class="line">  click_to_change: false #设置是否每次点击都更换彩带</span><br><span class="line">  mobile: fasel # false 手机端不显示 true 手机端显示</span><br></pre></td></tr></table></figure>

<p>相关配置可查看<a target="_blank" rel="noopener" href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p>
<h2 id="动态彩带"><a href="#动态彩带" class="headerlink" title="动态彩带"></a>动态彩带</h2><p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">canvas_ribbon_piao:</span><br><span class="line">  enable: true</span><br><span class="line">  mobile: false # false 手机端不显示 true 手机端显示</span><br></pre></td></tr></table></figure>

<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest:</span><br><span class="line">  enable: true</span><br><span class="line">  color: &#39;0,0,255&#39; #color of lines, default: &#39;0,0,0&#39;; RGB values: (R,G,B).(note: use &#39;,&#39; to separate.)</span><br><span class="line">  opacity: 0.7 # the opacity of line (0~1), default: 0.5.</span><br><span class="line">  zIndex: -1 # z-index property of the background, default: -1.</span><br><span class="line">  count: 99 # the number of lines, default: 99.</span><br><span class="line">  mobile: false # false 手机端不显示 true 手机端显示</span><br></pre></td></tr></table></figure>



<h2 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h2><h3 id="烟花"><a href="#烟花" class="headerlink" title="烟花"></a>烟花</h3><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fireworks:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<h3 id="爱心"><a href="#爱心" class="headerlink" title="爱心"></a>爱心</h3><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 点击出现爱心</span><br><span class="line">click_heart:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 点击出现文字，文字可自行修改</span><br><span class="line">ClickShowText:</span><br><span class="line">  enable: false</span><br><span class="line">  text: </span><br><span class="line">    - 富强</span><br><span class="line">    - 民主</span><br><span class="line">    - 文明</span><br><span class="line">    - 和谐</span><br><span class="line">    - 自由</span><br><span class="line">    - 平等</span><br><span class="line">    - 公正</span><br><span class="line">    - 法治</span><br><span class="line">    - 爱国</span><br><span class="line">    - 敬业</span><br><span class="line">    - 诚信</span><br><span class="line">    - 友善</span><br><span class="line">  fontSize: 15px</span><br></pre></td></tr></table></figure>

<h2 id="文章页美化"><a href="#文章页美化" class="headerlink" title="文章页美化"></a>文章页美化</h2><p>会改变ol、ul、h1-h5的样式</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post_beautify:</span><br><span class="line">  enable: true</span><br><span class="line">  title-prefix-icon: &#39;\f0c1&#39;</span><br><span class="line">  title-prefix-icon-color: &quot;#F4766&quot;</span><br></pre></td></tr></table></figure>

<p><code>title-prefix-icon</code>填写的是fontawesome的icon的Unicode数。</p>
<h3 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h3><p>可自行设置字体的<code>font-family</code></p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">font:</span><br><span class="line">  enable: true</span><br><span class="line">  font-family: Lato, Helvetica Neue For Number, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, PingFang SC, Hiragino Sans GB,&quot;Microsoft JhengHei&quot;, &quot;MicrMicrosoft YaHei&quot;, Helvetica Neue, Helvetica, Arial, sans-serif</span><br><span class="line">  code-font: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;,&quot;Microsoft YaHei&quot;, monospace, Helvetica Neue For Number</span><br></pre></td></tr></table></figure>

<h3 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h3><p>适用于版本号&gt;=V1.2.0</p>
<p>V2.0.0开始增加一些第三方api调用</p>
<p>可设置主页中显示的网站副标题或则喜欢的座右铭。</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 主页subtitle</span><br><span class="line"># 打字效果</span><br><span class="line">subtitle: </span><br><span class="line">  enable: true</span><br><span class="line">  # source调用第三方服务</span><br><span class="line">  # source: false 关闭调用 </span><br><span class="line">  # source: 1  调用金山词霸的每日一句（简体）</span><br><span class="line">  # source: 2  调用一言网的一句话（简体） #https:&#x2F;&#x2F;hitokoto.cn&#x2F;</span><br><span class="line">  # source: 3  调用一句网（简体） http:&#x2F;&#x2F;yijuzhan.com&#x2F;</span><br><span class="line">  # source: 4  调用今日诗词（简体） https:&#x2F;&#x2F;www.jinrishici.com&#x2F;</span><br><span class="line">  # subtitle 会先显示 source , 再显示 sub 的内容</span><br><span class="line">  source: false</span><br><span class="line">  # (如果有英文逗号&#39; , &#39;，请使用转义字符 &amp;#44;)</span><br><span class="line">  sub: #以下是自定义语句</span><br><span class="line">    - 一开始我就输了</span><br><span class="line">    - 我是算命的，你算什么东西</span><br></pre></td></tr></table></figure>



<h3 id="top-img显示大小"><a href="#top-img显示大小" class="headerlink" title="top_img显示大小"></a>top_img显示大小</h3><p>适用于版本号&gt;=V1.2.0</p>
<p>默认的显示为全屏。site-info的区域会居中显示</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 主页设置</span><br><span class="line"># 默认top_img全屏，site_info在中间</span><br><span class="line"># 使用默认, 都无需填写（建议默认）</span><br><span class="line">index_site_info_top:   #主页标题距离顶部距离  例如 300px&#x2F;300em&#x2F;300rem&#x2F;10%</span><br><span class="line">index_top_img_height:  #主页top_img高度 例如 300px&#x2F;300em&#x2F;300rem  不能使用百分比</span><br></pre></td></tr></table></figure>

<p>注意:<code>index_top_img_height</code>的值不能使用百分比。<br>2个都不填的话会使用默认值</p>
<p>举例 当</p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index_site_info_top: 40%</span><br><span class="line">index_top_img_height: 400px</span><br></pre></td></tr></table></figure>

<h3 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h3><p>要为<code>Butterfly</code>配上PWA特性，你需要如下几个步骤：</p>
<ol>
<li><p>打开hexo工作目录</p>
</li>
<li><p><code>nmp install hexo-offline --save</code>或者<code>yarn add hexo-offline</code></p>
</li>
<li><p>修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_config.yml</span><br></pre></td></tr></table></figure>

<p>在站点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_config.yml</span><br></pre></td></tr></table></figure>

<p>中增加以下内容。</p>
</li>
</ol>
<p>   yaml</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># offline config passed to sw-precache.</span><br><span class="line">offline:</span><br><span class="line">  maximumFileSizeToCacheInBytes: 10485760 # 缓存的最大文件大小，以字节为单位</span><br><span class="line">  staticFileGlobs:</span><br><span class="line">    - public&#x2F;**&#x2F;*.&#123;js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2&#125;</span><br><span class="line">  # 静态文件合集，如果你的站点使用了例如webp格式的文件，请将文件类型添加进去。</span><br><span class="line">  stripPrefix: public</span><br><span class="line">  verbose: true</span><br><span class="line">  runtimeCaching:</span><br><span class="line">    # CDNs - should be cacheFirst, since they should be used specific versions so should not change</span><br><span class="line">    - urlPattern: &#x2F;* # 如果你需要加载CDN资源，请配置该选项，如果没有，可以不配置。</span><br><span class="line">      handler: cacheFirst</span><br><span class="line">      options:</span><br><span class="line">        origin: your_websie_url # 可替换成你的 url</span><br></pre></td></tr></table></figure>

<p>   更多内容请查看</p>
<p>   hexo-offline</p>
<p>   的官方文档</p>
<ol start="4">
<li><p>在</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">butterfly.yml</span><br></pre></td></tr></table></figure>

<p>中开启pwa选项。</p>
</li>
</ol>
<p>   yaml</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwa:</span><br><span class="line">  enable: true</span><br><span class="line">  manifest: &#x2F;img&#x2F;pwa&#x2F;manifest.json</span><br><span class="line">  theme_color: &quot;#fff&quot;</span><br><span class="line">  apple_touch_icon: &#x2F;img&#x2F;pwa&#x2F;apple-touch-icon.png</span><br><span class="line">  favicon_32_32: &#x2F;img&#x2F;pwa&#x2F;32.png</span><br><span class="line">  favicon_16_16: &#x2F;img&#x2F;pwa&#x2F;16.png</span><br><span class="line">  mask_icon: &#x2F;img&#x2F;pwa&#x2F;safari-pinned-tab.svg</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>在创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source&#x2F;</span><br></pre></td></tr></table></figure>

<p>目录中创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manifest.json</span><br></pre></td></tr></table></figure>

<p>文件。</p>
</li>
</ol>
<p>   json</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;string&quot;, &#x2F;&#x2F;应用全称</span><br><span class="line">    &quot;short_name&quot;: &quot;Junzhou&quot;, &#x2F;&#x2F;应用简称</span><br><span class="line">    &quot;theme_color&quot;: &quot;#49b1f5&quot;, &#x2F;&#x2F;匹配浏览器的地址栏颜色</span><br><span class="line">    &quot;background_color&quot;: &quot;#49b1f5&quot;,&#x2F;&#x2F;加载应用时的背景色</span><br><span class="line">    &quot;display&quot;: &quot;standalone&quot;,&#x2F;&#x2F;首选显示模式 其他选项有：fullscreen,minimal-ui,browser</span><br><span class="line">    &quot;scope&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">    &quot;start_url&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">    &quot;icons&quot;: [ &#x2F;&#x2F;该数组指定icons图标参数，用来时适配不同设备（需为png，至少包含一个192px*192px的图标）</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;36.png&quot;, &#x2F;&#x2F;图标文件的目录，需在source&#x2F;目录下自行创建。</span><br><span class="line">          &quot;sizes&quot;: &quot;36x36&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;48.png&quot;,</span><br><span class="line">          &quot;sizes&quot;: &quot;48x48&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;72.png&quot;,</span><br><span class="line">          &quot;sizes&quot;: &quot;72x72&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;96.png&quot;,</span><br><span class="line">          &quot;sizes&quot;: &quot;96x96&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;144.png&quot;,</span><br><span class="line">          &quot;sizes&quot;: &quot;144x144&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;192.png&quot;,</span><br><span class="line">          &quot;sizes&quot;: &quot;192x192&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;images&#x2F;pwaicons&#x2F;512.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;512x512&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">          &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;splash_pages&quot;: null &#x2F;&#x2F;配置自定义启动动画。</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>   你也可以通过</p>
<p>   Web App Nabufest</p>
<p>   快速创建</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manifest.json</span><br></pre></td></tr></table></figure>

<p>   。(Web App Manifest要求至少包含一个512*512像素的图标）</p>
<ol start="6">
<li><p>可以通过</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Chrome</span><br></pre></td></tr></table></figure>

<p>插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Lighthouse</span><br></pre></td></tr></table></figure>

<p>检查PWA配置是否生效以及配置是否正确。</p>
<ul>
<li>打开博客页面</li>
<li>启动<code>Lighthouse</code>插件(<code>Lighthouse</code>插件要求至少包含一个512*512像素的图标)<br>关于PWA(渐进式增强Web应用)的更多内容请参阅<a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse/audits/address-bar">Google Tools for Web Developers</a></li>
</ul>
</li>
</ol>
<h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>要为<code>Butterfly</code>配上数字统计特性，你需要如下几个步骤：</p>
<ol>
<li>打开hexo工作目录</li>
<li><code>npm install hexo-wordcount --save</code>or<code>yarn add hexo-wordcount</code></li>
<li>配置<code>butterfly.yml</code></li>
</ol>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wordcount:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="C:\Users\hugan\AppData\Roaming\Typora\typora-user-images\image-20200809195055098.png" alt="image-20200809195055098"></p>
<h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><p>要为你一些文章置顶，你需要如下步骤:</p>
<ol>
<li>打开hexo工作目录</li>
<li><code>npm uninstall hexo-genrator-index --save</code>然后<code>npm install hexo-generator-index-pin-top --save</code></li>
<li>你要在文章的<code>front-matter</code>区域里添加<code>top: True</code>属性来把这篇文章置顶。</li>
<li>你可以参考<a target="_blank" rel="noopener" href="https://github.com/netcan/hexo-generator-index-pin-top">hexo-generator-index-pin-top</a>这个仓库来了解更多细节。</li>
</ol>
<p>举个例子：</p>
<p>你的莫篇文章开头如下:</p>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: xxx</span><br><span class="line">tags: </span><br><span class="line">    - xxx</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">---</span><br><span class="line">&#x2F;&#x2F; ...</span><br></pre></td></tr></table></figure>

<p>现在把<code>top: true</code>加进去:</p>
<p>markdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: xxx</span><br><span class="line">tags: </span><br><span class="line">    - xxx</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">top: True</span><br><span class="line">---</span><br><span class="line">&#x2F;&#x2F; ...</span><br></pre></td></tr></table></figure>

<h2 id="图片大图查看模式"><a href="#图片大图查看模式" class="headerlink" title="图片大图查看模式"></a>图片大图查看模式</h2><p>默认为fancybox，可以选择改为medium_zoom</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">medium_zoom:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>



<h3 id="Snackbar弹窗"><a href="#Snackbar弹窗" class="headerlink" title="Snackbar弹窗"></a>Snackbar弹窗</h3><p>Snackbar弹窗，根据自己爱好开启</p>
<p>配置<code>butterfly.yml</code></p>
<p>yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Snackbar 弹窗</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;polonel&#x2F;SnackBar</span><br><span class="line"># position 弹窗位置</span><br><span class="line"># 可选 top-left &#x2F; top-center &#x2F; top-right &#x2F; bottom-left &#x2F; bottom-center &#x2F; bottom-right</span><br><span class="line">snackbar:</span><br><span class="line">  enable: true</span><br><span class="line">  position: bottom-left</span><br><span class="line">  bg_light: &#39;#49b1f5&#39; #light mode时弹窗背景</span><br><span class="line">  bg_dark: &#39;#2d3035&#39; #dark mode时弹窗背景</span><br></pre></td></tr></table></figure>



<h1 id="绑定个人域名"><a href="#绑定个人域名" class="headerlink" title="绑定个人域名"></a>绑定个人域名</h1><p>申请对应的域名并绑定到Github和Coding上，可以查看该博文</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/milovetingting/p/12159100.html">https://www.cnblogs.com/milovetingting/p/12159100.html</a></p>
<h1 id="地球"><a href="#地球" class="headerlink" title="地球"></a>地球</h1><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p>官网 <a target="_blank" rel="noopener" href="https://clustrmaps.com/">clustrmaps.com</a> 也是第三方的，有Google Docs账号可以直接登录，Sign up即可，科学上网这里不教。<br>注册之后，在官网找到 Website Widget，如图。<br><img src= "/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200505000231389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>我喜欢Globe widget，请自行选择。<br><img src= "/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200504230609405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>点击select就可以看到信息了，我这里用的博客里用的js版，复制到你的博客就好了。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><blockquote>
<p>我在butterfly（pug）的侧边栏引入的，next可以同理规划；sakura（ejs）更简单，直接贴js或html代码</p>
</blockquote>
<ol>
<li><p>在主题配置声明一个侧边栏给地图显示<br>文件：<code>source\_data\butterfly.yml</code></p>
<p>在aside: 字段下添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">card_maps: <span class="literal">true</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>   先在加载框添加一条card_maps的声明，（主题控制是否显示这个界面元素）<br>   修改添加：<code>themes\Butterfly\layout\includes\widget\index.pug</code></p>
   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.aside.card_maps</span><br><span class="line">       !=partial(<span class="string">&#x27;includes/widget/card_maps&#x27;</span>, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure>


<p>   然后，<strong>新建</strong> 一个页面元素：<code>themes\Butterfly\layout\includes\widget\card_maps.pug</code><br>   复制下面的pug格式样式，将url_for改为你之前申请的，例如我的是：</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; id&#x3D;&quot;clstr_globe&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.clustrmaps.com&#x2F;globe.js?d&#x3D;0pAHW6anrierwVkDn2noQLY7_BJegnXt2KYvXQ6Tuu4&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">FiveAgent</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/08/19/hexo+butterfly%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/">http://yoursite.com/2020/08/19/hexo+butterfly%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">FiveAgent</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/butterfly%E4%B8%BB%E9%A2%98/">butterfly主题</a></div><div class="post_share"><div class="social-share" data-image="https://img.xjh.me/desktop/bg/nature/64080878_p0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2020/08/19/hello-world/"><img class="next-cover" data-lazy-src="https://img.xjh.me/desktop/bg/nature/64080878_p0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(https://img.xjh.me/desktop/bg/nature/64080878_p0.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By FiveAgent</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/third-party/click_heart.js" async="async"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html><!-- 雪花特效 -->
<script type="text/javascript" src="\js\snow.js"></script>